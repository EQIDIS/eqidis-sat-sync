<form
  hx-post="{% url 'fiscal:upload_csd' %}"
  hx-target="#form-csd-container"
  hx-swap="innerHTML"
  hx-indicator="#csd-loading"
  enctype="multipart/form-data"
  class="space-y-4"
>
  {% csrf_token %} {% if form_csd.non_field_errors %}
  <div class="alert alert-error">
    {% for error in form_csd.non_field_errors %}
    <span>{{ error }}</span>
    {% endfor %}
  </div>
  {% endif %}

  <!-- Archivo .cer -->
  <div class="form-control w-full">
    <label class="label"
      ><span class="label-text font-semibold">Certificado (.cer) *</span></label
    >
    {{ form_csd.archivo_cer }} {% if form_csd.archivo_cer.errors %}
    <span class="text-error text-xs mt-1"
      >{{ form_csd.archivo_cer.errors.0 }}</span
    >
    {% endif %}
  </div>

  <!-- Archivo .key -->
  <div class="form-control w-full">
    <label class="label"
      ><span class="label-text font-semibold"
        >Llave Privada (.key) *</span
      ></label
    >
    {{ form_csd.archivo_key }} {% if form_csd.archivo_key.errors %}
    <span class="text-error text-xs mt-1"
      >{{ form_csd.archivo_key.errors.0 }}</span
    >
    {% endif %}
  </div>

  <!-- Contraseña -->
  <div class="form-control w-full">
    <label class="label"
      ><span class="label-text font-semibold">Contraseña *</span></label
    >
    {{ form_csd.contrasena }}
    <label class="label">
      <span class="label-text-alt text-warning">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="w-4 h-4 inline mr-1"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"
          />
        </svg>
        Tu contraseña nunca se guarda.
      </span>
    </label>
    {% if form_csd.contrasena.errors %}
    <span class="text-error text-xs">{{ form_csd.contrasena.errors.0 }}</span>
    {% endif %}
  </div>

  <div class="modal-action">
    <span
      id="csd-loading"
      class="htmx-indicator loading loading-spinner loading-md"
    ></span>
    <button type="submit" class="btn btn-primary">Validar y Guardar CSD</button>
  </div>
</form>
